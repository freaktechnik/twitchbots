{% extends "_base.twig" %}
{% set extremePagesLimit = 3 %}
{% set nearbyPagesLimit = 2 %}
{% block title %}Known bots{% endblock %}
{% block extraresources %}
{% if page == 1 %}
<link rel="canonical" href="https://twitchbots.info">
{% else %}
<link rel="canonical" href="https://twitchbots.info/?page={{page}}">
{% endif %}
{% endblock %}
{% block content %}
<div>
    <h1>Find out if a Twitch user is a chat bot</h1>
    <p class="lead">Sadly Twitch accounts can't be marked as a bot. But many accounts are used just as a chat bot. This service provides an API to find out who's a chat bot. All bots listed are service or moderator bots. Please <a href="{{ urlFor('submit')|e('html_attr') }}?correction">submit a correction</a> if you spot something wrong.</p>
</div>

<div class="table-responsive">
    <table class="table table-striped">
        <caption>"Multi-channel" doesn't mean the bot is in multiple Twitch channel chats, only that it could be in multiple chats at once.</caption>
        <thead>
            <tr>
                <th>Username</th>
                <th>Multi-channel</th>
                <th>Type</th>
            </tr>
        </thead>
        <tbody>
        {% for bot in bots %}
            <tr>
                <td><a href="https://twitch.tv/{{ bot.name|e('url')|e('html_attr') }}" rel="external">{{ bot.name|e }}</a></td>
                {% if bot.typename is not empty %}
                <td>{% if bot.multichannel %}Yes{% else %}No{% endif %}</td>
                <td><a href="{{ bot.url|e('html_attr') }}" rel="external nofollow">{{ bot.typename|e }}</a></td>
                {% else %}
                <td>?</td>
                <td><a href="{{ urlFor('submit')|e('html_attr') }}?correction&amp;username={{ bot.name|e('url')|e('html_attr') }}">Unknown (click to correct)</a></td>
                {% endif %}
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
<nav class="text-center">
    {% if pageCount > 1 and page <= pageCount %}
        <ul class="pagination">
            {% spaceless %}
            {% if page > 1 %}
                <li>
                    <a href="?page={{ page-1 }}" aria-label="Previous" rel="prev">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                </li>

                {% for i in range(1, extremePagesLimit) if(i < page - nearbyPagesLimit) %}
                    <li>
                        <a href="?page={{ i }}"{% if i == 1 %} rel="start"{% endif %}>{{ i }}</a>
                    </li>
                {% endfor %}

                {% if extremePagesLimit + 1 < page - nearbyPagesLimit %}
                    <li class="disabled"><a href="#">&hellip;</a></li>
                {% endif %}

                {% for i in range(page-nearbyPagesLimit, page-1) if(i > 0) %}
                    <li>
                        <a href="?page={{ i }}"{% if i == 1 %} rel="start"{% endif %}>{{ i }}</a>
                    </li>
                {% endfor %}
            {% else %}
                <li class="disabled">
                    <a href="#" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                </li>
            {% endif %}

            <li class="active">
                <a href="?page={{ page }}" {% if page == 1 %} rel="start"{% endif %}>{{ page }}<span class="sr-only">(current)</span></a>
            </li>

            {% if page < pageCount %}
                {% for i in range(page+1, page+nearbyPagesLimit) if(i <= pageCount) %}
                    <li>
                        <a href="?page={{ i }}">{{ i }}</a>
                    </li>
                {% endfor %}

                {% if (pageCount - extremePagesLimit) > (page + nearbyPagesLimit) %}
                    <li class="disabled"><a href="#">&hellip;</a></li>
                {% endif %}

                {% for i in range(pageCount-extremePagesLimit+1, pageCount) if(i > page+nearbyPagesLimit) %}
                    <li>
                        <a href="?page={{ i }}">{{ i }}</a>
                    </li>
                {% endfor %}

                <li>
                    <a href="?page={{ page+1 }}" aria-label="Next" rel="next">
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            {% else %}
                <li class="disabled">
                    <a href="#" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            {% endif %}
            {% endspaceless %}
        </ul>
    {% endif %}
</nav>
{% endblock %}
